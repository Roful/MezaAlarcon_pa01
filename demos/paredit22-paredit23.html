<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<LINK href="diff.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="nav.js"></script>
</head>
<body>
<div id="left" class="src">
<pre>
<a id='leftstart' tid='rightstart'></a>
<a id='6751' tid='6752' class='u'>;;; paredit.el --- minor mode for editing parentheses  -*- Mode: Emacs-Lisp -*-
</a>
<span class='d'>;; Copyright (C) 2005--2010 Taylor R. Campbell
</span>
<a id='6753' tid='6754' class='u'>;; Author: Taylor R. Campbell
</a><span class='d'>;; Version: 22
</span><a id='6755' tid='6756' class='u'>;; Created: 2005-07-31
</a><a id='6757' tid='6758' class='u'>;; Keywords: lisp
</a>
<a id='6759' tid='6760' class='u'>;; Paredit is free software: you can redistribute it and/or modify it
</a><a id='6761' tid='6762' class='u'>;; under the terms of the GNU General Public License as published by
</a><a id='6763' tid='6764' class='u'>;; the Free Software Foundation, either version 3 of the License, or
</a><a id='6765' tid='6766' class='u'>;; (at your option) any later version.
</a><a id='6767' tid='6768' class='u'>;;
</a><a id='6769' tid='6770' class='u'>;; Paredit is distributed in the hope that it will be useful, but
</a><a id='6771' tid='6772' class='u'>;; WITHOUT ANY WARRANTY; without even the implied warranty of
</a><a id='6773' tid='6774' class='u'>;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</a><a id='6775' tid='6776' class='u'>;; GNU General Public License for more details.
</a><a id='6777' tid='6778' class='u'>;;
</a><a id='6779' tid='6780' class='u'>;; You should have received a copy of the GNU General Public License
</a><a id='6781' tid='6782' class='u'>;; along with paredit.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
</a>
<a id='6783' tid='6784' class='u'>;;; This file is permanently stored at
</a><span class='d'>;;;   &lt;http://mumble.net/~campbell/emacs/paredit-22.el&gt;.
</span><a id='6785' tid='6786' class='u'>;;;
</a><a id='6787' tid='6788' class='u'>;;; The currently released version of paredit is available at
</a><a id='6789' tid='6790' class='u'>;;;   &lt;http://mumble.net/~campbell/emacs/paredit.el&gt;.
</a><a id='6791' tid='6792' class='u'>;;;
</a><a id='6793' tid='6794' class='u'>;;; The latest beta version of paredit is available at
</a><a id='6795' tid='6796' class='u'>;;;   &lt;http://mumble.net/~campbell/emacs/paredit-beta.el&gt;.
</a><a id='6797' tid='6798' class='u'>;;;
</a><a id='6799' tid='6800' class='u'>;;; Release notes are available at
</a><a id='6801' tid='6802' class='u'>;;;   &lt;http://mumble.net/~campbell/emacs/paredit.release&gt;.
</a>
<a id='6803' tid='6804' class='u'>;;; Install paredit by placing `paredit.el&#39; in `/path/to/elisp&#39;, a
</a><a id='6805' tid='6806' class='u'>;;; directory of your choice, and adding to your .emacs file:
</a><a id='6807' tid='6808' class='u'>;;;
</a><a id='6809' tid='6810' class='u'>;;;   (add-to-list &#39;load-path &quot;/path/to/elisp&quot;)
</a><a id='6811' tid='6812' class='u'>;;;   (autoload &#39;enable-paredit-mode &quot;paredit&quot;
</a><a id='6813' tid='6814' class='u'>;;;     &quot;Turn on pseudo-structural editing of Lisp code.&quot;
</a><a id='6815' tid='6816' class='u'>;;;     t)
</a><a id='6817' tid='6818' class='u'>;;;
</a><span class='d'>;;; Enable Paredit Mode on the fly with `M-x enable-paredit-mode RET&#39;,
</span><span class='d'>;;; or always enable it in a major mode `M&#39; (e.g., `lisp&#39;) with:
</span><a id='6819' tid='6820' class='u'>;;;
</a><a id='6821' tid='6822' class='u'>;;;   (add-hook M-mode-hook &#39;enable-paredit-mode)
</a><a id='6823' tid='6824' class='u'>;;;
</a><a id='6825' tid='6826' class='u'>;;; Customize paredit using `eval-after-load&#39;:
</a><a id='6827' tid='6828' class='u'>;;;
</a><a id='6829' tid='6830' class='u'>;;;   (eval-after-load &#39;paredit
</a><span class='d'>;;;     &#39;(progn ...redefine keys, &c....))
</span><span class='d'>;;;
</span><span class='d'>;;; Paredit should run in GNU Emacs 21 or later and XEmacs 21.5 or
</span><span class='d'>;;; later.  Paredit is highly unlikely to work in earlier versions of
</span><span class='d'>;;; GNU Emacs, and it may have obscure problems in earlier versions of
</span><span class='d'>;;; XEmacs due to the way its syntax parser reports conditions, as a
</span><span class='d'>;;; result of which the code that uses the syntax parser must mask all
</span><span class='d'>;;; error conditions, not just those generated by the syntax parser.
</span><span class='d'>;;;
</span><span class='d'>;;; Questions, bug reports, comments, feature suggestions, &c., may be
</span><span class='d'>;;; addressed via email to the author&#39;s surname at mumble.net or via
</span><span class='d'>;;; IRC to the user named Riastradh on irc.freenode.net in the #paredit
</span><span class='d'>;;; channel.
</span><span class='d'>;;;
</span><span class='d'>;;; Please contact the author rather than forking your own versions, to
</span><span class='d'>;;; prevent the dissemination of random variants floating about the
</span><span class='d'>;;; internet unbeknownst to the author.  Laziness is not an excuse:
</span><span class='d'>;;; your laziness costs me confusion and time trying to support
</span><span class='d'>;;; paredit, so if you fork paredit, you make the world a worse place.
</span><span class='d'>;;;
</span><span class='d'>;;; *** WARNING *** IMPORTANT *** DO NOT SUBMIT BUGS BEFORE READING ***
</span><span class='d'>;;;
</span><span class='d'>;;; If you plan to submit a bug report, where some sequence of keys in
</span><span class='d'>;;; Paredit Mode, or some sequence of paredit commands, doesn&#39;t do what
</span><span class='d'>;;; you wanted, then it is helpful to isolate an example in a very
</span><span class='d'>;;; small buffer, and it is **ABSOLUTELY**ESSENTIAL** that you supply,
</span><span class='d'>;;; along with the sequence of keys or commands,
</span><span class='d'>;;;
</span><span class='d'>;;;   (1) the version of Emacs,
</span><span class='d'>;;;   (2) the version of paredit.el[*], and
</span><span class='d'>;;;   (3) the **COMPLETE** state of the buffer used to reproduce the
</span><span class='d'>;;;       problem, including major mode, minor modes, local key
</span><span class='d'>;;;       bindings, entire contents of the buffer, leading line breaks
</span><span class='d'>;;;       or spaces, &c.
</span><span class='d'>;;;
</span><span class='d'>;;; It is often extremely difficult to reproduce problems, especially
</span><span class='d'>;;; with commands such as `paredit-kill&#39;.  If you do not supply **ALL**
</span><span class='d'>;;; of this information, then it is highly probable that I cannot
</span><span class='d'>;;; reproduce your problem no matter how hard I try, and the effect of
</span><span class='d'>;;; submitting a bug without this information is only to waste your
</span><span class='d'>;;; time and mine.  So, please, include all of the above information.
</span><a id='6831' tid='6832' class='u'>;;;
</a><span class='d'>;;; [*] If you are using a beta version of paredit, be sure that you
</span><span class='d'>;;;     are using the *latest* edition of the beta version, available
</span><span class='d'>;;;     at &lt;http://mumble.net/~campbell/emacs/paredit-beta.el&gt;.  If you
</span><span class='d'>;;;     are not using a beta version, then upgrade either to that or to
</span><span class='d'>;;;     the latest release version; I cannot support older versions,
</span><span class='d'>;;;     and I can&#39;t fathom any reason why you might be using them.  So
</span><span class='d'>;;;     the answer to item (2) should be either `release&#39; or `beta&#39;.
</span>
<span class='d'>;;; The paredit minor mode, Paredit Mode, binds a number of simple
</span><span class='d'>;;; keys, notably `(&#39;, `)&#39;, `&quot;&#39;, and `\&#39;, to commands that more
</span><span class='d'>;;; carefully insert S-expression structures in the buffer.  The
</span><span class='d'>;;; parenthesis delimiter keys (round or square) are defined to insert
</span><span class='d'>;;; parenthesis pairs and move past the closing delimiter,
</span><span class='d'>;;; respectively; the double-quote key is multiplexed to do both, and
</span><span class='d'>;;; also to insert an escape if within a string; and backslashes prompt
</span><span class='d'>;;; the user for the next character to input, because a lone backslash
</span><span class='d'>;;; can break structure inadvertently.  These all have their ordinary
</span><span class='d'>;;; behaviour when inside comments, and, outside comments, if truly
</span><span class='d'>;;; necessary, you can insert them literally with `C-q&#39;.
</span><span class='d'>;;;
</span><span class='d'>;;; The key bindings are designed so that when typing new code in
</span><span class='d'>;;; Paredit Mode, you can generally use exactly the same keystrokes as
</span><span class='d'>;;; you would have used without Paredit Mode.  Earlier versions of
</span><span class='d'>;;; paredit.el did not conform to this, because Paredit Mode bound `)&#39;
</span><span class='d'>;;; to a command that would insert a newline.  Now `)&#39; is bound to a
</span><span class='d'>;;; command that does not insert a newline, and `M-)&#39; is bound to the
</span><span class='d'>;;; command that inserts a newline.  To revert to the former behaviour,
</span><span class='d'>;;; add the following forms to an `eval-after-load&#39; form for paredit.el
</span><span class='d'>;;; in your .emacs file:
</span><span class='d'>;;;
</span><span class='d'>;;;   (define-key paredit-mode-map (kbd &quot;)&quot;)
</span><span class='d'>;;;     &#39;paredit-close-round-and-newline)
</span><span class='d'>;;;   (define-key paredit-mode-map (kbd &quot;M-)&quot;)
</span><span class='d'>;;;     &#39;paredit-close-round)
</span><span class='d'>;;;
</span><span class='d'>;;; Paredit Mode also binds the usual keys for deleting and killing, so
</span><span class='d'>;;; that they will not destroy any S-expression structure by killing or
</span><span class='d'>;;; deleting only one side of a parenthesis or quote pair.  If the
</span><span class='d'>;;; point is on a closing delimiter, `DEL&#39; will move left over it; if
</span><span class='d'>;;; it is on an opening delimiter, `C-d&#39; will move right over it.  Only
</span><span class='d'>;;; if the point is between a pair of delimiters will `C-d&#39; or `DEL&#39;
</span><span class='d'>;;; delete them, and in that case it will delete both simultaneously.
</span><span class='d'>;;; `M-d&#39; and `M-DEL&#39; kill words, but skip over any S-expression
</span><span class='d'>;;; structure.  `C-k&#39; kills from the start of the line, either to the
</span><span class='d'>;;; line&#39;s end, if it contains only balanced expressions; to the first
</span><span class='d'>;;; closing delimiter, if the point is within a form that ends on the
</span><span class='d'>;;; line; or up to the end of the last expression that starts on the
</span><span class='d'>;;; line after the point.
</span><span class='d'>;;;
</span><span class='d'>;;; The behaviour of the commands for deleting and killing can be
</span><span class='d'>;;; overridden by passing a `C-u&#39; prefix argument: `C-u DEL&#39; will
</span><span class='d'>;;; delete a character backward, `C-u C-d&#39; will delete a character
</span><span class='d'>;;; forward, and `C-u C-k&#39; will kill text from the point to the end of
</span><span class='d'>;;; the line, irrespective of the S-expression structure in the buffer.
</span><span class='d'>;;; This can be used to fix mistakes in a buffer, but should generally
</span><span class='d'>;;; be avoided.
</span><span class='d'>;;;
</span><span class='d'>;;; Paredit performs automatic reindentation as locally as possible, to
</span><span class='d'>;;; avoid interfering with custom indentation used elsewhere in some
</span><span class='d'>;;; S-expression.  Only the advanced S-expression manipulation commands
</span><span class='d'>;;; automatically reindent, and only the forms that were immediately
</span><span class='d'>;;; operated upon (and their subforms).
</span><span class='d'>;;;
</span><span class='d'>;;; This code is written for clarity, not efficiency.  It frequently
</span><span class='d'>;;; walks over S-expressions redundantly.  If you have problems with
</span><span class='d'>;;; the time it takes to execute some of the commands, let me know, but
</span><span class='d'>;;; first be sure that what you&#39;re doing is reasonable: it is
</span><span class='d'>;;; preferable to avoid immense S-expressions in code anyway.
</span>
<span class='d'>;;; This assumes Unix-style LF line endings.
</span>
<span class='d'>(defconst paredit-version 22)</span>
(<a id='6833' tid='6834' class='u'>defconst</a> <a id='6835' tid='6836' class='u'>paredit-beta-p</a> <a id='6837' tid='6838' class='u'>nil</a>)

(<a id='6915' tid='6916' class='u'>eval-and-compile</a>

  (<a id='6897' tid='6898' class='u'>defun</a> <a id='6899' tid='6900' class='u'>paredit-xemacs-p</a> ()
    <a id='6901' tid='6902' class='u'>;; No idea where I got this definition from.  Edward O&#39;Connor
</a>    <a id='6903' tid='6904' class='u'>;; (hober in #emacs) suggested the current definition.
</a>    <a id='6905' tid='6906' class='u'>;;   (and (boundp &#39;running-xemacs)
</a>    <a id='6907' tid='6908' class='u'>;;        running-xemacs)
</a>    (<a id='6909' tid='6910' class='u'>featurep</a> <a id='6911' tid='6912' class='u'>&#39;</a><a id='6913' tid='6914' class='u'>xemacs</a>))

  (<a id='6839' tid='6840' class='u'>defun</a> <a id='6841' tid='6842' class='u'>paredit-gnu-emacs-p</a> ()
    <a id='6843' tid='6844' class='u'>;++ This could probably be improved.
</a>    (<a id='6845' tid='6846' class='u'>not</a> (<a id='6847' tid='6848' class='u'>paredit-xemacs-p</a>)))

  (<a id='6917' tid='6918' class='u'>defmacro</a> <a id='6919' tid='6920' class='u'>xcond</a> (<a id='6921' tid='6922' class='u'>&rest</a> <a id='6923' tid='6924' class='u'>clauses</a>)
    <a id='6925' tid='6926' class='u'>&quot;Exhaustive COND.
Signal an error if no clause matches.&quot;</a>
    <a id='6927' tid='6928' class='u'>`</a>(<a id='6929' tid='6930' class='u'>cond</a> <a id='6931' tid='6932' class='u'>,</a><a id='6933' tid='6934' class='u'>@clauses</a>
           (<a id='6935' tid='6936' class='u'>t</a> (<a id='6937' tid='6938' class='u'>error</a> <a id='6939' tid='6940' class='u'>&quot;XCOND lost.&quot;</a>))))

  (<a id='6941' tid='6942' class='u'>defalias</a> <a id='6943' tid='6944' class='u'>&#39;</a><a id='6945' tid='6946' class='u'>paredit-warn</a> (<a id='6947' tid='6948' class='u'>if</a> (<a id='6949' tid='6950' class='u'>fboundp</a> <a id='6951' tid='6952' class='u'>&#39;</a><a id='6953' tid='6954' class='u'>warn</a>) <a id='6955' tid='6956' class='u'>&#39;</a><a id='6957' tid='6958' class='u'>warn</a> <a id='6959' tid='6960' class='u'>&#39;</a><a id='6961' tid='6962' class='u'>message</a>))

  (<a id='6849' tid='6850' class='u'>defvar</a> <a id='6851' tid='6852' class='u'>paredit-sexp-error-type</a>
    (<a id='6853' tid='6854' class='u'>with-temp-buffer</a>
      (<a id='6855' tid='6856' class='u'>insert</a> <a id='6857' tid='6858' class='u'>&quot;(&quot;</a>)
      (<a id='6859' tid='6860' class='u'>condition-case</a> <a id='6861' tid='6862' class='u'>condition</a>
          (<a id='6863' tid='6864' class='u'>backward-sexp</a>)
        (<a id='6865' tid='6866' class='u'>error</a> (<a id='6867' tid='6868' class='u'>if</a> (<a id='6869' tid='6870' class='u'>eq</a> (<a id='6871' tid='6872' class='u'>car</a> <a id='6873' tid='6874' class='u'>condition</a>) <a id='6875' tid='6876' class='u'>&#39;</a><a id='6877' tid='6878' class='u'>error</a>)
                   (<a id='6879' tid='6880' class='u'>paredit-warn</a> <a id='6881' tid='6882' class='u'>&quot;%s%s%s%s%s&quot;</a>
                                 <a id='6883' tid='6884' class='u'>&quot;Paredit is unable to discriminate&quot;</a>
                                 <a id='6885' tid='6886' class='u'>&quot; S-expression parse errors from&quot;</a>
                                 <a id='6887' tid='6888' class='u'>&quot; other errors. &quot;</a>
                                 <a id='6889' tid='6890' class='u'>&quot; This may cause obscure problems. &quot;</a>
                                 <a id='6891' tid='6892' class='u'>&quot; Please upgrade Emacs.&quot;</a>))
               (<a id='6893' tid='6894' class='u'>car</a> <a id='6895' tid='6896' class='u'>condition</a>)))))

  (<a id='6963' tid='6964' class='u'>defmacro</a> <a id='6965' tid='6966' class='u'>paredit-handle-sexp-errors</a> (<a id='6967' tid='6968' class='u'>body</a> <a id='6969' tid='6970' class='u'>&rest</a> <a id='6971' tid='6972' class='u'>handler</a>)
    <a id='6973' tid='6974' class='u'>`</a>(<a id='6975' tid='6976' class='u'>condition-case</a> ()
         <a id='6977' tid='6978' class='u'>,</a><a id='6979' tid='6980' class='u'>body</a>
       (<a id='6981' tid='6982' class='u'>,</a><a id='6983' tid='6984' class='u'>paredit-sexp-error-type</a> <a id='6985' tid='6986' class='u'>,</a><a id='6987' tid='6988' class='u'>@handler</a>)))

  (<a id='6989' tid='6990' class='u'>put</a> <a id='6991' tid='6992' class='u'>&#39;</a><a id='6993' tid='6994' class='u'>paredit-handle-sexp-errors</a> <a id='6995' tid='6996' class='u'>&#39;</a><a id='6997' tid='6998' class='u'>lisp-indent-function</a> <a id='6999' tid='7000' class='u'>1</a>)

  (<a id='7001' tid='7002' class='u'>defmacro</a> <a id='7003' tid='7004' class='u'>paredit-ignore-sexp-errors</a> (<a id='7005' tid='7006' class='u'>&rest</a> <a id='7007' tid='7008' class='u'>body</a>)
    <a id='7009' tid='7010' class='u'>`</a>(<a id='7011' tid='7012' class='u'>paredit-handle-sexp-errors</a> (<a id='7013' tid='7014' class='u'>progn</a> <a id='7015' tid='7016' class='u'>,</a><a id='7017' tid='7018' class='u'>@body</a>)
       <a id='7019' tid='7020' class='u'>nil</a>))

  (<a id='7021' tid='7022' class='u'>put</a> <a id='7023' tid='7024' class='u'>&#39;</a><a id='7025' tid='7026' class='u'>paredit-ignore-sexp-errors</a> <a id='7027' tid='7028' class='u'>&#39;</a><a id='7029' tid='7030' class='u'>lisp-indent-function</a> <a id='7031' tid='7032' class='u'>0</a>)

  <a id='7033' tid='7034' class='u'>nil</a>)

<a id='7035' tid='7036' class='u'>;;;; Minor Mode Definition
</a>
(<a id='5301' tid='5302' class='u'>defvar</a> <a id='5303' tid='5304' class='u'>paredit-mode-map</a> (<a id='5305' tid='5306' class='u'>make-sparse-keymap</a>)
  <a id='5307' tid='5308' class='u'>&quot;Keymap for the paredit minor mode.&quot;</a>)

<a id='7037' tid='7038' class='u'>;;;###autoload
</a>(<a id='5293' tid='5294' class='u'>define-minor-mode</a> <a id='5295' tid='5296' class='u'>paredit-mode</a>
  <span class='d'>&quot;Minor mode for pseudo-structurally editing Lisp code.
With a prefix argument, enable Paredit Mode even if there are
  imbalanced parentheses in the buffer.
Paredit behaves badly if parentheses are imbalanced, so exercise
  caution when forcing Paredit Mode to be enabled, and consider
  fixing imbalanced parentheses instead.
\\&lt;paredit-mode-map&gt;&quot;</span>
  <a id='5297' tid='5298' class='u'>:lighter</a> <a id='5299' tid='5300' class='u'>&quot; Paredit&quot;</a>
  <span class='d'>;; If we&#39;re enabling paredit-mode, the prefix to this code that
</span>  <span class='d'>;; DEFINE-MINOR-MODE inserts will have already set PAREDIT-MODE to
</span>  <span class='d'>;; true.  If this is the case, then first check the parentheses, and
</span>  <span class='d'>;; if there are any imbalanced ones we must inhibit the activation of
</span>  <span class='d'>;; paredit mode.  We skip the check, though, if the user supplied a
</span>  <span class='d'>;; prefix argument interactively.
</span>  (<a id='717' tid='718' class='m'>if</a> (<a id='719' tid='720' class='m'>and</a> <a id='721' tid='722' class='m'>paredit-mode</a>
           (<a id='723' tid='724' class='m'>not</a> <a id='725' tid='726' class='m'>current-prefix-arg</a>))
      (<span class='d'>if</span> <span class='d'>(not (fboundp &#39;check-parens))</span>
          <span class='d'>(paredit-warn &quot;`check-parens&#39; is not defined; %s&quot;
                        &quot;be careful of malformed S-expressions.&quot;)</span>
          (<a id='727' tid='728' class='m'>condition-case</a> <a id='729' tid='730' class='m'>condition</a>
              (<a id='731' tid='732' class='m'>check-parens</a>)
            (<span class='d'>error</span> <span class='d'>(setq paredit-mode nil)</span>
                   (<a id='733' tid='734' class='m'>signal</a> (<a id='735' tid='736' class='m'>car</a> <a id='737' tid='738' class='m'>condition</a>) (<a id='739' tid='740' class='m'>cdr</a> <a id='741' tid='742' class='m'>condition</a>)))))))

(<a id='1777' tid='1778' class='u'>defun</a> <a id='1779' tid='1780' class='u'>enable-paredit-mode</a> ()
  <a id='1781' tid='1782' class='u'>&quot;Turn on pseudo-structural editing of Lisp code.&quot;</a>
  (<a id='1783' tid='1784' class='u'>interactive</a>)
  (<a id='1785' tid='1786' class='u'>paredit-mode</a> <a id='1787' tid='1788' class='u'>+1</a>))

(<a id='1765' tid='1766' class='u'>defun</a> <a id='1767' tid='1768' class='u'>disable-paredit-mode</a> ()
  <a id='1769' tid='1770' class='u'>&quot;Turn off pseudo-structural editing of Lisp code.&quot;</a>
  (<a id='1771' tid='1772' class='u'>interactive</a>)
  (<a id='1773' tid='1774' class='u'>paredit-mode</a> <a id='1775' tid='1776' class='u'>-1</a>))

(<a id='2203' tid='2204' class='u'>defvar</a> <a id='2205' tid='2206' class='u'>paredit-backward-delete-key</a>
  (<a id='2207' tid='2208' class='u'>xcond</a> ((<a id='2209' tid='2210' class='u'>paredit-xemacs-p</a>)    <a id='2211' tid='2212' class='u'>&quot;BS&quot;</a>)
         ((<a id='2213' tid='2214' class='u'>paredit-gnu-emacs-p</a>) <a id='2215' tid='2216' class='u'>&quot;DEL&quot;</a>)))

(<a id='3329' tid='3330' class='u'>defvar</a> <a id='3331' tid='3332' class='u'>paredit-forward-delete-keys</a>
  (<a id='3333' tid='3334' class='u'>xcond</a> ((<a id='3335' tid='3336' class='u'>paredit-xemacs-p</a>)    <a id='3337' tid='3338' class='u'>&#39;</a>(<a id='3339' tid='3340' class='u'>&quot;DEL&quot;</a>))
         ((<a id='3341' tid='3342' class='u'>paredit-gnu-emacs-p</a>) <a id='3343' tid='3344' class='u'>&#39;</a>(<a id='3345' tid='3346' class='u'>&quot;&lt;delete&gt;&quot;</a> <a id='3347' tid='3348' class='u'>&quot;&lt;deletechar&gt;&quot;</a>))))

<a id='7039' tid='7040' class='u'>;;;; Paredit Keys
</a>
<a id='7041' tid='7042' class='u'>;;; Separating the definition and initialization of this variable
</a><a id='7043' tid='7044' class='u'>;;; simplifies the development of paredit, since re-evaluating DEFVAR
</a><a id='7045' tid='7046' class='u'>;;; forms doesn&#39;t actually do anything.
</a>
(<a id='2617' tid='2618' class='u'>defvar</a> <a id='2619' tid='2620' class='u'>paredit-commands</a> <a id='2621' tid='2622' class='u'>nil</a>
  <a id='2623' tid='2624' class='u'>&quot;List of paredit commands with their keys and examples.&quot;</a>)

<a id='7047' tid='7048' class='u'>;;; Each specifier is of the form:
</a><a id='7049' tid='7050' class='u'>;;;   (key[s] function (example-input example-output) ...)
</a><a id='7051' tid='7052' class='u'>;;; where key[s] is either a single string suitable for passing to KBD
</a><a id='7053' tid='7054' class='u'>;;; or a list of such strings.  Entries in this list may also just be
</a><a id='7055' tid='7056' class='u'>;;; strings, in which case they are headings for the next entries.
</a>
(<a id='743' tid='744' class='m'>progn</a> (<a id='745' tid='746' class='m'>setq</a> <a id='747' tid='748' class='m'>paredit-commands</a>
 <a id='749' tid='750' class='m'>`</a>(
   <span class='d'>&quot;Basic Insertion Commands&quot;</span>
   (<a id='751' tid='752' class='m'>&quot;(&quot;</a>         <a id='753' tid='754' class='m'>paredit-open-round</a>
                (<a id='755' tid='756' class='m'>&quot;(a b |c d)&quot;</a>
                 <a id='757' tid='758' class='m'>&quot;(a b (|) c d)&quot;</a>)
                (<a id='759' tid='760' class='m'>&quot;(foo \&quot;bar |baz\&quot; quux)&quot;</a>
                 <a id='761' tid='762' class='m'>&quot;(foo \&quot;bar (|baz\&quot; quux)&quot;</a>))
   (<a id='525' tid='526' class='m'>&quot;)&quot;</a>         <a id='527' tid='528' class='m'>paredit-close-round</a>
                (<a id='529' tid='530' class='m'>&quot;(a b |c   )&quot;</a> <a id='531' tid='532' class='m'>&quot;(a b c)|&quot;</a>)
                (<a id='533' tid='534' class='m'>&quot;; Hello,| world!&quot;</a>
                 <a id='535' tid='536' class='m'>&quot;; Hello,)| world!&quot;</a>))
   (<a id='459' tid='460' class='m'>&quot;M-)&quot;</a>       <a id='461' tid='462' class='m'>paredit-close-round-and-newline</a>
                (<a id='463' tid='464' class='m'>&quot;(defun f (x|  ))&quot;</a>
                 <a id='465' tid='466' class='m'>&quot;(defun f (x)\n  |)&quot;</a>)
                (<a id='467' tid='468' class='m'>&quot;; (Foo.|&quot;</a>
                 <a id='469' tid='470' class='m'>&quot;; (Foo.)|&quot;</a>))
   <span class='d'>(&quot;[&quot;         paredit-open-square
                (&quot;(a b |c d)&quot;
                 &quot;(a b [|] c d)&quot;)
                (&quot;(foo \&quot;bar |baz\&quot; quux)&quot;
                 &quot;(foo \&quot;bar [baz\&quot; quux)&quot;))</span>
   (<a id='425' tid='426' class='m'>&quot;]&quot;</a>         <a id='427' tid='428' class='m'>paredit-close-square</a>
                (<a id='429' tid='430' class='m'>&quot;(define-key keymap [frob|  ] &#39;frobnicate)&quot;</a>
                 <a id='431' tid='432' class='m'>&quot;(define-key keymap [frob]| &#39;frobnicate)&quot;</a>)
                (<a id='433' tid='434' class='m'>&quot;; [Bar.|&quot;</a>
                 <a id='435' tid='436' class='m'>&quot;; [Bar.]|&quot;</a>))
   <span class='d'>(&quot;\&quot;&quot;        paredit-doublequote
                (&quot;(frob grovel |full lexical)&quot;
                 &quot;(frob grovel \&quot;|\&quot; full lexical)&quot;)
                (&quot;(foo \&quot;bar |baz\&quot; quux)&quot;
                 &quot;(foo \&quot;bar \\\&quot;|baz\&quot; quux)&quot;))</span>
   (<a id='315' tid='316' class='m'>&quot;M-\&quot;&quot;</a>      <a id='317' tid='318' class='m'>paredit-meta-doublequote</a>
                (<a id='319' tid='320' class='m'>&quot;(foo \&quot;bar |baz\&quot; quux)&quot;</a>
                 <a id='321' tid='322' class='m'>&quot;(foo \&quot;bar baz\&quot;\n     |quux)&quot;</a>)
                (<a id='323' tid='324' class='m'>&quot;(foo |(bar #\\x \&quot;baz \\\\ quux\&quot;) zot)&quot;</a>
                 <a id='325' tid='326' class='m'>,</a>(<a id='327' tid='328' class='m'>concat</a> <a id='329' tid='330' class='m'>&quot;(foo \&quot;|(bar #\\\\x \\\&quot;baz \\\\&quot;</a>
                          <a id='331' tid='332' class='m'>&quot;\\\\ quux\\\&quot;)\&quot; zot)&quot;</a>)))
   <span class='d'>(&quot;\\&quot;        paredit-backslash
                (&quot;(string #|)\n  ; Escaping character... (x)&quot;
                 &quot;(string #\\x|)&quot;)
                (&quot;\&quot;foo|bar\&quot;\n  ; Escaping character... (\&quot;)&quot;
                 &quot;\&quot;foo\\\&quot;|bar\&quot;&quot;))</span>
   <span class='d'>(&quot;;&quot;         paredit-semicolon
                (&quot;|(frob grovel)&quot;
                 &quot;;|(frob grovel)&quot;)
                (&quot;(frob |grovel)&quot;
                 &quot;(frob ;grovel\n)&quot;)
                (&quot;(frob |grovel (bloit\n               zargh))&quot;
                 &quot;(frob ;|grovel\n (bloit\n  zargh))&quot;)
                (&quot;(frob grovel)          |&quot;
                 &quot;(frob grovel)          ;|&quot;))</span>
   <span class='d'>(&quot;M-;&quot;       paredit-comment-dwim
                (&quot;(foo |bar)   ; baz&quot;
                 &quot;(foo bar)                               ; |baz&quot;)
                (&quot;(frob grovel)|&quot;
                 &quot;(frob grovel)                           ;|&quot;)
                (&quot;    (foo bar)\n|\n    (baz quux)&quot;
                 &quot;    (foo bar)\n    ;; |\n    (baz quux)&quot;)
                (&quot;    (foo bar) |(baz quux